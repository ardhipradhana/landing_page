<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MontPro | We Automate. You Accelerate.</title>
    <link rel="icon" href="favicon.png" type="image/png">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Animate On Scroll (AOS) Library for animations -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <!-- Custom Styles -->
    <style>
        :root {
            /* PRIMARY - Navy (Brand Anchor) */
            --navy-900: #193A6D;
            --navy-800: #1F4580;
            --navy-700: #2B5BA8;
            
            /* SECONDARY - Bright Blue */
            --blue-500: #4A90E2;
            --blue-400: #5FA3F5;
            --blue-300: #8BC1FF;
            
            /* NEUTRAL - Grays */
            --gray-50: #F8FAFC;
            --gray-100: #F1F5F9;
            --gray-600: #475569;
            --gray-900: #0F172A;
            
            /* ACCENT - Functional */
            --green: #10B981;
            --orange: #F59E0B;
            
            /* SURFACE */
            --white: #FFFFFF;
            --shadow-sm: 0 1px 2px 0 rgba(15, 23, 42, 0.05);
            --shadow: 0 4px 6px -1px rgba(15, 23, 42, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(15, 23, 42, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(15, 23, 42, 0.1);
        }
    
        body {
            font-family: 'Inter', sans-serif;
            background: var(--white);
        }
        
        /* Brand Color Classes */
        .bg-navy-blue { background-color: var(--navy-900); }
        .text-navy-blue { color: var(--navy-900); }
        .border-navy-blue { border-color: var(--navy-900); }
        .hover\:bg-navy-800:hover { background-color: var(--navy-800); }
        
        .bg-bright-blue { background-color: var(--blue-500); }
        .text-bright-blue { color: var(--blue-500); }
        
        .bg-light-gray { background-color: var(--gray-50); }
        .text-off-black { color: var(--gray-900); }
        .text-body { color: var(--gray-600); }
    
        /* Smooth scroll behavior */
        html {
            scroll-behavior: smooth;
        }
        
        /* Remove heavy headline shadow - use clean color instead */
        h1.text-navy-blue {
            color: var(--navy-900);
        }
    
        .hero-subtitle {
            color: var(--gray-600);
        }
    
        .tools-section .bg-white {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .tools-section .bg-white:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
    
        .bounce-animation {
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-8px);
            }
            60% {
                transform: translateY(-4px);
            }
        }
    
        .annotation-card {
            background: var(--white);
            padding: 1rem;
            border-radius: 0.75rem;
            box-shadow: var(--shadow-lg);
            max-width: 240px;
            border: 2px solid var(--gray-100);
            z-index: 10;
        }

        .btn-primary {
            background-color: var(--navy-900);
            color: var(--white);
            font-weight: 600;
            padding: 0.75rem 2rem;
            border-radius: 0.5rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: var(--shadow);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
        }
        
        .btn-primary:hover {
            background-color: var(--navy-800);
            box-shadow: var(--shadow-lg);
            transform: translateY(-1px);
        }
        
        .btn-primary:active {
            transform: translateY(0);
            box-shadow: var(--shadow);
        }
        
        /* Secondary Button - Try It Now */
        .btn-secondary {
            background-color: var(--white);
            color: var(--navy-900);
            font-weight: 600;
            padding: 0.75rem 2rem;
            border-radius: 0.5rem;
            border: 2px solid var(--navy-900);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
        }
        
        .btn-secondary:hover {
            background-color: var(--gray-50);
            border-color: var(--navy-800);
            transform: translateY(-1px);
            box-shadow: var(--shadow);
        }
        
        .btn-secondary:active {
            transform: translateY(0);
        }
        
        /* Tertiary Button - Text Link */
        .btn-tertiary {
            color: var(--navy-900);
            font-weight: 600;
            padding: 0.75rem 2rem;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            position: relative;
        }
        
        .btn-tertiary::after {
            content: '';
            position: absolute;
            bottom: 0.5rem;
            left: 2rem;
            right: 2rem;
            height: 2px;
            background-color: var(--navy-900);
            transform: scaleX(0);
            transition: transform 0.2s ease;
        }
        
        .btn-tertiary:hover::after {
            transform: scaleX(1);
        }
        
        /* Large Button Variant */
        .btn-lg {
            padding: 1rem 2.5rem;
            font-size: 1.125rem;
        }
        
        /* Button with Icon */
        .btn-icon {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-white-on-dark {
            background: var(--white);
            color: var(--navy-900);
            padding: 1.25rem 2.5rem;
            font-size: 1.125rem;
            border-radius: 0.75rem;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
        }
        
        .btn-white-on-dark:hover {
            background: var(--gray-50);
            transform: translateY(-2px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }

        .feature-card {
            background-color: var(--gray-50);
            padding: 1.5rem;
            border-radius: 0.75rem;
            border: 1px solid var(--gray-100);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .feature-card:hover {
            border-color: var(--navy-900);
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }
        
        .feature-card .icon-wrapper {
            border-radius: 0.75rem;
            width: 3.5rem;
            height: 3.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .feature-card:hover .icon-wrapper {
            transform: scale(1.1);
        }
        
        /* Individual icon colors */
        .icon-cash { background-color: #D1FAE5; }
        .icon-cash svg { color: #059669; }
        
        .icon-forecast { background-color: #DBEAFE; }
        .icon-forecast svg { color: #2563EB; }
        
        .icon-tracking { background-color: #E9D5FF; }
        .icon-tracking svg { color: #7C3AED; }
        
        .icon-ai { background-color: #FED7AA; }
        .icon-ai svg { color: #EA580C; }

        h1 {
            font-size: 2.25rem; /* 36px */
            line-height: 1.2;
            letter-spacing: -0.02em;
        }
        
        @media (min-width: 768px) {
            h1 {
                font-size: 3rem; /* 48px */
            }
        }
        
        @media (min-width: 1024px) {
            h1 {
                font-size: 3.75rem; /* 60px */
            }
        }
        
        /* Section Headers */
        h2 {
            font-size: 1.875rem; /* 30px */
            line-height: 1.3;
            letter-spacing: -0.01em;
        }
        
        @media (min-width: 768px) {
            h2 {
                font-size: 2.25rem; /* 36px */
            }
        }
        
        /* Card Headers */
        h3, h4 {
            line-height: 1.4;
        }
        
        /* Body Text Optimization */
        p {
            line-height: 1.7;
        }
        
        /* Smooth transitions for all interactive elements */
        a, button {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Show annotations only on larger screens */
        @media (min-width: 1280px) {
            .annotation-card {
                display: block !important;
            }
        }
        
        @media (max-width: 1279px) {
            .annotation-card {
                display: none !important;
            }
        }

        @keyframes sophisticatedPulse {
            0%, 100% {
                box-shadow: 0 10px 25px rgba(14, 41, 84, 0.3);
                transform: scale(1);
            }
            50% {
                box-shadow: 0 15px 35px rgba(14, 41, 84, 0.4), 0 0 0 8px rgba(14, 41, 84, 0.1);
                transform: scale(1.02);
            }
        }
        
        /* Apply pulse animation on first load */
        #chat-bubble.pulse-active {
            animation: sophisticatedPulse 2.5s ease-in-out 3;
        }
        
        /* Fade-in animation for messages */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate-fadeIn {
            animation: fadeIn 0.4s ease-out;
        }
        
        /* Typing indicator animation */
        @keyframes typingDot {
            0%, 60%, 100% { opacity: 0.3; }
            30% { opacity: 1; }
        }
        
        .typing-indicator span {
            animation: typingDot 1.4s infinite;
        }
        
        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        /* Follow-up button styles */
        .follow-up-button {
            display: inline-block;
            padding: 6px 12px;
            margin: 3px 3px 3px 0;
            background-color: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            font-size: 12px;
            color: #0e2954;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .follow-up-button:hover {
            background-color: #0e2954;
            color: white;
            border-color: #0e2954;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(14, 41, 84, 0.15);
        }
        
        /* Hide scrollbar by default, show only on hover or when scrolling */
        #chat-messages {
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: transparent transparent;
            overflow-x: hidden;
        }
        
        #chat-messages:hover {
            scrollbar-color: #cbd5e1 transparent;
        }
        
        #chat-messages::-webkit-scrollbar {
            width: 6px;
        }
        
        #chat-messages::-webkit-scrollbar-track {
            background: transparent;
        }
        
        #chat-messages::-webkit-scrollbar-thumb {
            background: transparent;
            border-radius: 3px;
        }
        
        #chat-messages:hover::-webkit-scrollbar-thumb {
            background: #cbd5e1;
        }
        
        #chat-messages::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* Markdown content styling */
        .markdown-content p {
            margin-bottom: 0.5rem;
        }
        
        .markdown-content p:last-child {
            margin-bottom: 0;
        }
        
        .markdown-content strong {
            font-weight: 600;
            color: #0F172A;
        }
        
        .markdown-content em {
            font-style: italic;
        }
        
        .markdown-content ul, .markdown-content ol {
            margin-left: 1rem;
            margin-bottom: 0.5rem;
        }
        
        .markdown-content li {
            margin-bottom: 0.25rem;
        }
        
        .markdown-content code {
            background: rgba(0,0,0,0.05);
            padding: 0.125rem 0.25rem;
            border-radius: 0.25rem;
            font-family: monospace;
            font-size: 11px;
        }
        
        /* Mobile responsive adjustments */
        @media (max-width: 640px) {
            #chat-bubble {
                bottom: 1rem;
                right: 1rem;
                width: 56px;
                height: 56px;
            }
            
            #chat-bubble svg {
                width: 24px;
                height: 24px;
            }
            
            #chat-window {
                bottom: 1rem;
                right: 1rem;
                left: 1rem;
                width: auto;
                max-width: none;
                height: calc(100vh - 6rem);
                max-height: calc(100vh - 6rem);
            }
        }

        /* Button styling - add if needed */
        #save-chat-btn {
            position: fixed;
            bottom: 7rem; /* Adjust based on your input height */
            right: 2rem;
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
        }
        
        /* Mobile adjustments */
        @media (max-width: 640px) {
            #save-chat-btn {
                bottom: 6.5rem;
                right: 1.5rem;
                padding: 0.625rem; /* Slightly smaller on mobile */
            }
            
            #save-chat-btn svg {
                width: 1.125rem;
                height: 1.125rem;
            }
        }
        
    </style>
</head>
<body class="text-off-black">

    <!-- =========== HEADER / NAVIGATION =========== -->
    <header class="sticky top-0 z-50 bg-white/90 backdrop-blur-lg shadow-sm">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <!-- Logo -->
            <a href="#" class="flex items-center space-x-2">
                <!-- Using the actual logo shape -->
                <img src="ChatGPT_Image_Apr_30__2025__01_18_48_PM-removebg-preview.png" alt="MontPro Logo" class="h-12 w-auto">
                <span class="text-2xl font-bold text-navy-blue">MontPro</span>
            </a>
            
            <!-- Desktop Navigation Links -->
            <div class="hidden md:flex items-center space-x-8">
                <a href="#features" class="relative text-gray-600 hover:text-navy-blue transition-all duration-300 group">
                    <span class="relative z-10">Features</span>
                    <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-navy-blue transition-all duration-300 group-hover:w-full"></span>
                </a>
                <a href="pricing.html" class="relative text-gray-600 hover:text-navy-blue transition-all duration-300 group">
                    <span class="relative z-10">Pricing</span>
                    <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-navy-blue transition-all duration-300 group-hover:w-full"></span>
                </a>
                <a href="mailto:support@aapgrp.com" class="relative text-gray-600 hover:text-navy-blue transition-all duration-300 group">
                    <span class="relative z-10">Contact</span>
                    <span class="absolute bottom-0 left-0 w-0 h-0.5 bg-navy-blue transition-all duration-300 group-hover:w-full"></span>
                </a>
            </div>
            
            <!-- CTA Button -->
            <div class="hidden md:flex items-center space-x-3">
                <a href="https://financier.montpro.xyz/" target="_blank" class="btn-secondary btn-icon">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                    </svg>
                    Try It Now
                </a>
                
                <a href="https://calendar.app.google/39ZRiHpqjpJsbXbZ6" target="_blank" class="btn-primary btn-icon">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                    </svg>
                    Book a Demo
                </a>
            </div>
            
            <!-- Mobile Menu Button -->
            <div class="md:hidden">
                <button id="mobile-menu-button" class="text-gray-600 focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </nav>

        <!-- Mobile Navigation Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-200">
            <div class="px-6 py-4 space-y-3">
                <a href="#features" class="block text-gray-600 hover:text-navy-blue transition duration-300 py-2">Features</a>
                <a href="mailto:support@aapgrp.com" class="block text-gray-600 hover:text-navy-blue transition duration-300 py-2">Contact</a>
                <a href="https://calendar.app.google/39ZRiHpqjpJsbXbZ6" target="_blank" class="btn-primary w-full mt-4">Book a Demo</a>
            </div>
        </div>
        
    </header>

    <!-- =========== MAIN CONTENT =========== -->
    <main>
        <!-- =========== HERO SECTION =========== -->
        <section class="relative overflow-hidden py-20 md:py-28" style="background: linear-gradient(180deg, #F8FAFC 0%, #FFFFFF 100%);">
            
            <!-- Subtle background decoration -->
            <div class="absolute inset-0 overflow-hidden pointer-events-none">
                <div class="absolute top-20 right-20 w-96 h-96 rounded-full filter blur-3xl opacity-20" style="background: var(--blue-300);"></div>
                <div class="absolute bottom-20 left-20 w-96 h-96 rounded-full filter blur-3xl opacity-15" style="background: var(--navy-700);"></div>
            </div>
        
            <div class="container mx-auto px-6 relative z-10">
                
                <!-- Beta Badge -->
                <div class="flex justify-center mb-4" data-aos="fade-down">
                    <div class="inline-flex items-center space-x-2 bg-orange-50 border border-orange-200 rounded-full px-4 py-1.5">
                        <div class="w-2 h-2 rounded-full animate-pulse" style="background-color: var(--orange);"></div>
                        <span class="text-sm font-medium" style="color: #D97706;">Beta • Improving Every Week</span>
                    </div>
                </div>
        
                <!-- Main Content - Everything Visible -->
                <div class="text-center max-w-4xl mx-auto">
                    
                    <!-- Headline -->
                    <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold leading-tight mb-5" style="color: var(--navy-900);" data-aos="fade-up">
                        Financial Intelligence That Makes Sense
                    </h1>
                    
                    <!-- Subheadline -->
                    <p class="text-xl md:text-2xl mb-4 leading-relaxed" style="color: var(--gray-600);" data-aos="fade-up" data-aos-delay="50">
                        Real-time visibility. 13-week forecasts. No 6-month implementation.
                    </p>
                    
                    <!-- Credibility Line -->
                    <p class="text-base mb-12 leading-relaxed" style="color: var(--gray-600); opacity: 0.8;" data-aos="fade-up" data-aos-delay="100">
                        Built by a CFO with 15+ years of experience
                    </p>
        
                    <!-- CTA Buttons -->
                    <div class="flex flex-col sm:flex-row justify-center items-center space-y-3 sm:space-y-0 sm:space-x-4 mb-10" data-aos="fade-up" data-aos-delay="150">
                        <a href="https://financier.montpro.xyz/" target="_blank" class="btn-secondary btn-lg btn-icon w-full sm:w-auto">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                            </svg>
                            Try It Now
                        </a>
                        <a href="https://calendar.app.google/39ZRiHpqjpJsbXbZ6" target="_blank" class="btn-primary btn-lg btn-icon w-full sm:w-auto">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                            </svg>
                            Book a Demo
                        </a>
                    </div>
        
                    <!-- Trust Indicators - Using Unified Colors -->
                    <div class="flex flex-wrap justify-center items-center gap-4 md:gap-6 text-sm" style="color: var(--gray-600);">
                        <div class="flex items-center space-x-2">
                            <svg class="w-4 h-4" style="color: var(--green);" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                            </svg>
                            <span>Real companies using daily</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <svg class="w-4 h-4" style="color: var(--blue-500);" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"/>
                            </svg>
                            <span>Setup in minutes</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <svg class="w-4 h-4" style="color: var(--navy-900);" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"/>
                            </svg>
                            <span>Founder answers questions</span>
                        </div>
                    </div>
        
                </div>
        
            </div>
        </section>

        <!-- =========== PRODUCT SHOWCASE SECTION =========== -->
        <section id="features" class="py-20 md:py-24 bg-white">
            <div class="container mx-auto px-6 max-w-6xl">
                
                <!-- Section Header -->
                <div class="text-center mb-16" data-aos="fade-up">
                    <h2 class="text-3xl md:text-4xl font-bold mb-4" style="color: var(--gray-900);">
                        What's Actually Working Right Now
                    </h2>
                    <p class="text-lg md:text-xl max-w-3xl mx-auto" style="color: var(--gray-600);">
                        Real features. Real data. Real insights.
                    </p>
                </div>
        
                <!-- Dashboard Screenshot with Annotations -->
                <div class="relative" data-aos="fade-up" data-aos-delay="100">
                    
                    <!-- Main Screenshot Container -->
                    <div class="relative max-w-5xl mx-auto">
                        
                        <!-- Placeholder for your actual dashboard screenshot -->
                        <div class="relative rounded-xl shadow-2xl border border-gray-200 overflow-hidden bg-gray-100">
                            <!-- Replace this div with: <img src="dashboard-screenshot.png" alt="MontPro Dashboard" class="w-full"> -->
                            <img src="dashboard-screenshot.png" alt="MontPro Dashboard" class="w-full rounded-xl">
                        </div>
        
                        <!-- Annotation Cards (Positioned Absolutely) -->
                        
                        <!-- Annotation 1: Top-Left (Cash Position) -->
                        <div class="annotation-card" style="position: absolute; top: 10%; left: -12%; display: none;" data-aos="fade-right" data-aos-delay="200">
                            <div class="flex items-start space-x-3">
                                <div class="bg-green-500 text-white rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold text-sm">
                                    1
                                </div>
                                <div>
                                    <h4 class="font-bold text-gray-900 mb-1 text-sm">Live Cash Position</h4>
                                    <p class="text-xs text-gray-600 leading-relaxed">See your cash, runway, burn rate updated in real-time</p>
                                </div>
                            </div>
                        </div>
        
                        <!-- Annotation 2: Top-Right (Forecast) -->
                        <div class="annotation-card" style="position: absolute; top: 10%; right: -12%; display: none;" data-aos="fade-left" data-aos-delay="200">
                            <div class="flex items-start space-x-3">
                                <div class="bg-blue-500 text-white rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold text-sm">
                                    2
                                </div>
                                <div>
                                    <h4 class="font-bold text-gray-900 mb-1 text-sm">13-Week Forecast</h4>
                                    <p class="text-xs text-gray-600 leading-relaxed">Model scenarios. Know when you need capital</p>
                                </div>
                            </div>
                        </div>
        
                        <!-- Annotation 3: Bottom-Left (AP/AR) -->
                        <div class="annotation-card" style="position: absolute; bottom: 10%; left: -12%; display: none;" data-aos="fade-right" data-aos-delay="300">
                            <div class="flex items-start space-x-3">
                                <div class="bg-purple-500 text-white rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold text-sm">
                                    3
                                </div>
                                <div>
                                    <h4 class="font-bold text-gray-900 mb-1 text-sm">AP/AR Dashboard</h4>
                                    <p class="text-xs text-gray-600 leading-relaxed">Who owes you, what's overdue. Aging analysis</p>
                                </div>
                            </div>
                        </div>
        
                        <!-- Annotation 4: Bottom-Right (AI Assistant) -->
                        <div class="annotation-card" style="position: absolute; bottom: 10%; right: -12%; display: none;" data-aos="fade-left" data-aos-delay="300">
                            <div class="flex items-start space-x-3">
                                <div class="bg-orange-500 text-white rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0 font-bold text-sm">
                                    4
                                </div>
                                <div>
                                    <h4 class="font-bold text-gray-900 mb-1 text-sm">AI Assistant (Beta)</h4>
                                    <p class="text-xs text-gray-600 leading-relaxed">Ask questions in plain language. Get instant answers</p>
                                </div>
                            </div>
                        </div>
        
                    </div>
        
                </div>
        
                <!-- Feature List Below (Mobile-Friendly Alternative to Annotations) -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mt-16" data-aos="fade-up" data-aos-delay="400">
                    
                    <!-- Card 1: Live Cash Position -->
                    <div class="feature-card">
                        <div class="icon-wrapper icon-cash">
                            <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                            </svg>
                        </div>
                        <h4 class="font-bold mb-2" style="color: var(--gray-900);">Live Cash Position</h4>
                        <p class="text-sm" style="color: var(--gray-600);">Real-time balance, burn rate, and runway</p>
                    </div>
                
                    <!-- Card 2: 13-Week Forecast -->
                    <div class="feature-card">
                        <div class="icon-wrapper icon-forecast">
                            <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"/>
                            </svg>
                        </div>
                        <h4 class="font-bold mb-2" style="color: var(--gray-900);">13-Week Forecast</h4>
                        <p class="text-sm" style="color: var(--gray-600);">Model different scenarios and plan ahead</p>
                    </div>
                
                    <!-- Card 3: AP/AR Tracking -->
                    <div class="feature-card">
                        <div class="icon-wrapper icon-tracking">
                            <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"/>
                            </svg>
                        </div>
                        <h4 class="font-bold mb-2" style="color: var(--gray-900);">AP/AR Tracking</h4>
                        <p class="text-sm" style="color: var(--gray-600);">Automated aging analysis and alerts</p>
                    </div>
                
                    <!-- Card 4: AI Assistant -->
                    <div class="feature-card">
                        <div class="icon-wrapper icon-ai">
                            <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                            </svg>
                        </div>
                        <h4 class="font-bold mb-2" style="color: var(--gray-900);">AI Assistant</h4>
                        <p class="text-sm" style="color: var(--gray-600);">Ask questions, get answers instantly</p>
                    </div>
                
                </div>
        
                <!-- CTA Below -->
                <div class="text-center mt-12" data-aos="fade-up" data-aos-delay="500">
                    <a href="https://calendar.app.google/39ZRiHpqjpJsbXbZ6" target="_blank" class="btn-primary btn-lg btn-icon">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                        </svg>
                        <span>Book a Demo</span>
                    </a>
                    
                    <!-- Chat Option -->
                    <div class="mt-8 flex items-center justify-center space-x-2" style="color: var(--gray-600);">
                        <span class="text-sm">Quick questions?</span>
                        <button onclick="document.getElementById('chat-bubble').click()" class="btn-tertiary text-sm">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
                            </svg>
                            <span>Chat with our AI assistant</span>
                        </button>
                    </div>
                </div>
        
            </div>
        </section>

        <!-- =========== TRY IT NOW BRIDGE - CONTRASTING SECTION =========== -->
        <section class="py-20 md:py-24 relative overflow-hidden" style="background: linear-gradient(135deg, var(--navy-900) 0%, var(--navy-800) 100%);">
            
            <!-- Subtle pattern overlay -->
            <div class="absolute inset-0 opacity-5">
                <div class="absolute top-10 right-10 w-64 h-64 rounded-full filter blur-3xl" style="background: var(--blue-400);"></div>
                <div class="absolute bottom-10 left-10 w-64 h-64 rounded-full filter blur-3xl" style="background: var(--blue-300);"></div>
            </div>
            
            <div class="container mx-auto px-6 relative z-10">
                <div class="max-w-4xl mx-auto text-center" data-aos="fade-up">
                    
                    <!-- Clear headline - now white badge -->
                    <div class="inline-block px-4 py-2 rounded-full text-sm font-semibold mb-6" style="background: rgba(255, 255, 255, 0.15); color: #D1FAE5; backdrop-filter: blur(10px);">
                        ✓ Live & Ready To Use
                    </div>
                    
                    <h3 class="text-3xl md:text-4xl font-bold mb-5" style="color: var(--white);">
                        Stop Reading. Start Using.
                    </h3>
                    
                    <p class="text-lg md:text-xl mb-10 max-w-2xl mx-auto" style="color: rgba(255, 255, 255, 0.9);">
                        Your financial dashboard is ready. 
                        <span class="font-semibold" style="color: var(--blue-300);">Add your data, run your first forecast, see your cash runway.</span>
                    </p>
                    
                    <!-- Single, clear CTA - White version for dark background -->
                    <a href="https://financier.montpro.xyz/" target="_blank" class="btn-white-on-dark btn-icon">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                        </svg>
                        <span>Try It Now</span>
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
                        </svg>
                    </a>
                    
                    <!-- Trust indicators - white text on dark -->
                    <p class="text-sm mt-6" style="color: rgba(255, 255, 255, 0.7);">
                        No signup • No credit card • Start working in minutes
                    </p>
                    
                    <!-- Social proof ticker - with better spacing -->
                    <div class="flex items-center justify-center space-x-2 text-sm mt-8 pt-8" style="border-top: 1px solid rgba(255, 255, 255, 0.15); color: rgba(255, 255, 255, 0.8);">
                        <div class="flex -space-x-2">
                            <div class="w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 border-2 border-white flex items-center justify-center text-white text-xs font-bold">6</div>
                        </div>
                        <span>companies already managing their finances with MontPro</span>
                    </div>
                    
                </div>
            </div>
        </section>
    </main>

    <!-- =========== FOOTER =========== -->
    <footer class="relative border-t" style="background: linear-gradient(180deg, #FFFFFF 0%, var(--gray-50) 100%); border-color: var(--gray-100);">
        <!-- Subtle Background Pattern -->
        <div class="absolute inset-0 opacity-5 pointer-events-none">
            <div class="absolute top-10 left-1/4 w-32 h-32 rounded-full filter blur-xl" style="background: var(--navy-900);"></div>
            <div class="absolute bottom-10 right-1/3 w-24 h-24 rounded-full filter blur-xl" style="background: var(--blue-500);"></div>
        </div>
        
        <div class="container mx-auto px-6 py-12 relative z-10">
            <!-- Main Footer Content -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-12 mb-10">
                
                <!-- Brand Section -->
                <div class="md:col-span-2 space-y-4">
                    <a href="#" class="flex items-center space-x-3 group">
                        <img src="ChatGPT_Image_Apr_30__2025__01_18_48_PM-removebg-preview.png" alt="MontPro Logo" class="h-12 w-auto transition-transform duration-300 group-hover:scale-110">
                        <span class="text-2xl font-bold text-navy-blue">MontPro</span>
                    </a>
                    <p class="text-gray-600 max-w-md leading-relaxed">
                        Financial intelligence without the complexity. Make decisions with confidence, all in one place.
                    </p>
                    <div class="flex items-center space-x-4 pt-2">
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 rounded-full animate-pulse" style="background-color: var(--green);"></div>
                            <span class="text-sm font-medium" style="color: var(--gray-600);">AI-Powered</span>
                        </div>
                        <div class="flex items-center space-x-2">
                            <div class="w-2 h-2 rounded-full animate-pulse" style="background-color: var(--blue-500);"></div>
                            <span class="text-sm font-medium" style="color: var(--gray-600);">Live & Ready</span>
                        </div>
                    </div>
                </div>
                
                <!-- Contact & Legal -->
                <div class="space-y-4">
                    <h3 class="text-lg font-semibold text-navy-blue">Get in Touch</h3>
                    <a href="mailto:support@aapgrp.com" class="flex items-center space-x-2 text-gray-600 hover:text-navy-blue transition-colors duration-300 group">
                        <svg class="w-4 h-4 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                        </svg>
                        <span class="text-sm font-medium leading-none">support@aapgrp.com</span>
                    </a>
                    
                    <!-- Legal Links -->
                    <div class="pt-6 space-y-2">
                        <a href="privacy.html" class="block text-sm text-gray-500 hover:text-navy-blue transition-colors duration-300">Privacy Policy</a>
                        <a href="terms.html" class="block text-sm text-gray-500 hover:text-navy-blue transition-colors duration-300">Terms of Service</a>
                    </div>
                </div>
            </div>
            
            <!-- Bottom Section - Centered -->
            <div class="border-t border-gray-300 pt-8 text-center">
                <p class="text-sm text-gray-500">© 2025 MontPro.xyz. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- AOS Script -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
      AOS.init({
        duration: 750, // Animation duration
        once: false, // Whether animation should happen only once - while scrolling down
      });
    </script>

<script>
document.getElementById('mobile-menu-button').addEventListener('click', function() {
    const mobileMenu = document.getElementById('mobile-menu');
    mobileMenu.classList.toggle('hidden');
});
</script>

<!-- =========== CHATBOT WIDGET =========== -->

<!-- Chat Bubble Button -->
<button id="chat-bubble" class="fixed bottom-4 right-6 z-50 bg-navy-blue text-white rounded-full w-16 h-16 flex items-center justify-center shadow-xl hover:scale-105 transition-all duration-300 pulse-active" aria-label="Open chat">
    <!-- Chat Icon -->
    <svg id="chat-icon" class="w-7 h-7 transition-all duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/>
    </svg>
    <!-- Close Icon (hidden initially) -->
    <svg id="close-icon" class="w-7 h-7 hidden transition-all duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
    </svg>
</button>

<!-- Chat Window -->
<div id="chat-window" class="fixed bottom-4 right-6 z-40 w-96 max-w-[calc(100vw-3rem)] bg-white rounded-2xl overflow-hidden shadow-2xl border-0 hidden flex-col transition-all duration-300" style="font-family: 'Inter', sans-serif; height: calc(100vh - 7rem); max-height: calc(100vh - 7rem);">
    
    <!-- Chat Header -->
    <div class="bg-navy-blue text-white p-4 flex items-center justify-between rounded-t-2xl">
        <div class="flex items-center space-x-3">
            <div class="w-9 h-9 rounded-full bg-white flex items-center justify-center">
                <img src="ChatGPT_Image_Apr_30__2025__01_18_48_PM-removebg-preview.png" alt="MontPro" class="h-7 w-7">
            </div>
            <div>
                <h4 class="font-semibold text-sm">Monty</h4>
                <p class="text-xs opacity-90">Your MontPro AI Assistant</p>
            </div>
        </div>
        <button id="close-chat" class="text-white hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-all">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
        </button>
    </div>
    
    <!-- Chat Messages Area -->
    <div id="chat-messages" class="flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50">

        <!-- NEW: Floating Save Button -->
        <button id="save-chat-btn" class="absolute bottom-[5.75rem] right-20 bg-white/70 backdrop-blur-sm hover:bg-white hover:scale-110 rounded-full p-2.5 shadow-lg transition-all duration-300 z-20 group" title="Save Chat" aria-label="Save chat as PDF">
            <svg class="w-4 h-4 text-navy-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"/>
            </svg>
            <!-- Tooltip -->
            <span class="absolute right-full mr-2 top-1/2 -translate-y-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none">
                Save Chat
            </span>
        </button>
        
        <!-- Welcome Message -->
        <div class="flex items-start animate-fadeIn">
            <div class="rounded-2xl rounded-tl-none p-2.5 shadow-sm max-w-[85%]" style="background-color: #E8F4FF;">
                <p class="text-[12px] text-gray-800 leading-relaxed">Hi! 👋 I can answer questions about MontPro, book you a demo, or email you details. What interests you?</p>
            </div>
        </div>
    </div>
    
    <!-- Chat Input Area -->
    <div class="border-t border-gray-200 bg-white rounded-b-2xl">
        <!-- Input Row -->
        <div class="px-4 pt-4 pb-3">
            <div class="flex items-end space-x-2">
                <button id="attach-button" class="text-gray-500 hover:text-navy-blue border border-gray-300 hover:border-navy-blue rounded-full w-10 h-10 flex items-center justify-center transition-all flex-shrink-0" title="Attach file">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"/>
                    </svg>
                </button>
                <textarea 
                    id="chat-input" 
                    rows="1" 
                    placeholder="Ask anything about MontPro..." 
                    class="flex-1 resize-none border border-gray-300 rounded-xl px-4 py-2.5 text-[12px] focus:outline-none focus:border-navy-blue focus:ring-1 focus:ring-navy-blue transition-all" 
                    style="max-height: 100px;"
                ></textarea>
                <button id="send-button" class="bg-navy-blue text-white rounded-xl w-10 h-10 flex items-center justify-center hover:bg-opacity-90 transition-all flex-shrink-0 disabled:opacity-50 disabled:cursor-not-allowed">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
                    </svg>
                </button>
            </div>
        </div>
        
        <!-- Branding Badge Row -->
        <div class="px-4 pb-3 flex justify-center">
            <span class="inline-flex items-center space-x-1.5 px-3 py-1.5 rounded-full text-xs font-semibold" style="background: linear-gradient(135deg, #4A90E2 0%, #193A6D 100%); color: white;">
                <span>Powered by MontPro AI</span>
            </span>
        </div>
    </div>
    
</div>

<script>
// =========== CHATBOT FUNCTIONALITY ===========

(function() {
    const chatBubble = document.getElementById('chat-bubble');
    const chatWindow = document.getElementById('chat-window');
    const chatMessages = document.getElementById('chat-messages');
    const chatInput = document.getElementById('chat-input');
    const sendButton = document.getElementById('send-button');
    const chatIcon = document.getElementById('chat-icon');
    const closeIcon = document.getElementById('close-icon');
    
    let isOpen = false;

    // Stop pulse animation after 7.5 seconds (3 cycles × 2.5s)
    setTimeout(() => {
        chatBubble.classList.remove('pulse-active');
    }, 7500);

    // Toggle chat window
    function toggleChat() {
        isOpen = !isOpen;
        
        if (isOpen) {
            chatWindow.classList.remove('hidden');
            chatWindow.classList.add('flex');
            chatBubble.style.display = 'none'; // Hide bubble when chat opens
            chatInput.focus();
        } else {
            chatWindow.classList.add('hidden');
            chatWindow.classList.remove('flex');
            chatBubble.style.display = 'flex'; // Show bubble when chat closes
        }
    }

    // Add user message to chat
    function addUserMessage(message) {
        const messageDiv = document.createElement('div');
        messageDiv.className = 'flex items-start justify-end animate-fadeIn';
        messageDiv.innerHTML = `
            <div class="bg-navy-blue text-white rounded-2xl rounded-tr-none p-2.5 shadow-sm max-w-[85%]">
                <p class="text-[12px] leading-relaxed">${escapeHtml(message)}</p>
            </div>
        `;
        chatMessages.appendChild(messageDiv);
        scrollToBottom();
    }

    // Add bot message to chat
    function addBotMessage(message, followUpQuestions = []) {
        const messageDiv = document.createElement('div');
        messageDiv.className = 'flex items-start animate-fadeIn';
        
        // Convert markdown to HTML
        const formattedMessage = marked.parse(message);
        
        let followUpHTML = '';
        if (followUpQuestions && followUpQuestions.length > 0) {
            followUpHTML = '<div class="mt-2.5">';
            followUpQuestions.forEach(question => {
                followUpHTML += `<button class="follow-up-button" onclick="handleFollowUpClick('${escapeHtml(question)}')">${escapeHtml(question)}</button>`;
            });
            followUpHTML += '</div>';
        }
        
        messageDiv.innerHTML = `
            <div class="rounded-2xl rounded-tl-none p-2.5 shadow-sm max-w-[85%]" style="background-color: #E8F4FF;">
                <div class="text-[12px] text-gray-800 leading-relaxed markdown-content">${formattedMessage}</div>
                ${followUpHTML}
            </div>
        `;
        chatMessages.appendChild(messageDiv);
        scrollToBottom();
    }

    // Add typing indicator
    function addTypingIndicator() {
        const typingDiv = document.createElement('div');
        typingDiv.id = 'typing-indicator';
        typingDiv.className = 'flex items-start animate-fadeIn';
        typingDiv.innerHTML = `
            <div class="rounded-2xl rounded-tl-none p-2.5 shadow-sm" style="background-color: #E8F4FF;">
                <div class="flex space-x-1 typing-indicator">
                    <span class="w-2 h-2 bg-gray-400 rounded-full"></span>
                    <span class="w-2 h-2 bg-gray-400 rounded-full"></span>
                    <span class="w-2 h-2 bg-gray-400 rounded-full"></span>
                </div>
            </div>
        `;
        chatMessages.appendChild(typingDiv);
        scrollToBottom();
    }

    // Remove typing indicator
    function removeTypingIndicator() {
        const indicator = document.getElementById('typing-indicator');
        if (indicator) {
            indicator.remove();
        }
    }

    // Send message to backend
    async function sendMessage(message) {
        addUserMessage(message);
        addTypingIndicator();
        
        try {
            const response = await fetch('https://montpro.app.n8n.cloud/webhook/landing-page-chatbot', {
                method: 'POST',
                headers: { 
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ 
                    message: message,
                    type: 'text'
                })
            });
            
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            
            const data = await response.json();
            removeTypingIndicator();
            
            // Handle response from backend - array format with output field
            const responseData = Array.isArray(data) ? data[0] : data;
            let outputText = responseData.output || responseData.message || "I received your message. How can I help you?";
            
            // Strip markdown code blocks if present
            outputText = outputText.replace(/```json\n?/g, "").replace(/```\n?/g, "").trim();
            
            // Try to parse as JSON if it looks like JSON
            let botMessage = outputText;
            let followUps = [];
            
            try {
                if (outputText.startsWith('{')) {
                    const parsed = JSON.parse(outputText);
                    botMessage = parsed.output || outputText;
                    followUps = parsed.followUpQuestions || [];
                } else {
                    // Fallback to original structure
                    followUps = responseData.followUpQuestions || [];
                }
            } catch (e) {
                // If parsing fails, use as-is
                console.log('Response is not JSON, using as plain text');
                followUps = responseData.followUpQuestions || [];
            }
            
            addBotMessage(botMessage, followUps);
            
        } catch (error) {
            removeTypingIndicator();
            console.error('Chat error:', error);
            addBotMessage('Sorry, I encountered an error. Please try again or contact us at support@aapgrp.com');
        }
    }

    // Handle follow-up question click
    window.handleFollowUpClick = function(question) {
        // Remove HTML entities if any
        const cleanQuestion = question.replace(/&quot;/g, '"').replace(/&#39;/g, "'");
        sendMessage(cleanQuestion);
    };

    // Handle send button click
    function handleSend() {
        const message = chatInput.value.trim();
        if (message) {
            sendMessage(message);
            chatInput.value = '';
            chatInput.style.height = '40px';
        }
    }

    // Auto-resize textarea
    function autoResizeTextarea() {
        chatInput.style.height = 'auto';
        const newHeight = chatInput.scrollHeight;
        
        // If empty or very small, keep at minimum (single row)
        if (chatInput.value.trim() === '' || newHeight <= 40) {
            chatInput.style.height = '40px'; // Reset to single line height
        } else {
            chatInput.style.height = Math.min(newHeight, 100) + 'px';
        }
    }

    // Scroll to bottom of messages
    function scrollToBottom() {
        chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    // Escape HTML to prevent XSS
    function escapeHtml(text) {
        const map = {
            '&': '&amp;',
            '<': '&lt;',
            '>': '&gt;',
            '"': '&quot;',
            "'": '&#039;'
        };
        return text.replace(/[&<>"']/g, m => map[m]);
    }

    // Event listeners
    chatBubble.addEventListener('click', toggleChat);
    document.getElementById('close-chat').addEventListener('click', toggleChat);
    sendButton.addEventListener('click', handleSend);
    
    chatInput.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' && !e.shiftKey) {
            e.preventDefault();
            handleSend();
        }
    });
    
    chatInput.addEventListener('input', autoResizeTextarea);

    // File attachment functionality
    document.getElementById('attach-button').addEventListener('click', () => {
        const input = document.createElement('input');
        input.type = 'file';
        input.accept = 'image/*,.pdf';
        input.multiple = false; // Set to true if you want multiple files
        
        input.onchange = async (e) => {
            const file = e.target.files[0];
            if (!file) return;
            
            // Validate file size (max 10MB)
            const maxSize = 10 * 1024 * 1024; // 10MB in bytes
            if (file.size > maxSize) {
                addBotMessage('Sorry, file size must be under 10MB. Please try a smaller file.');
                return;
            }
            
            // Show file being uploaded
            addFilePreview(file);
            addTypingIndicator();
            
            // Send to backend
            await sendFileToBackend(file);
        };
        
        input.click();
    });

    // Add this to your existing chatbot script
    document.getElementById('save-chat-btn').addEventListener('click', async function() {
        // Get all messages
        const messages = [];
        const messageElements = document.querySelectorAll('#chat-messages > div:not(#typing-indicator)');
        
        messageElements.forEach(el => {
            const isUser = el.querySelector('.bg-navy-blue');
            const text = el.querySelector('p').textContent;
            const time = el.querySelector('.message-time')?.textContent || '';
            
            messages.push({
                sender: isUser ? 'You' : 'Monty',
                text: text,
                time: time
            });
        });
        
        // Generate PDF
        await generateChatPDF(messages);
    });
    
    async function generateChatPDF(messages) {
        // Using jsPDF library (add to your page)
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        
        // Header
        doc.setFontSize(20);
        doc.setTextColor(25, 58, 109); // Navy blue
        doc.text('MontPro Chat Transcript', 20, 20);
        
        doc.setFontSize(10);
        doc.setTextColor(100);
        doc.text(`Exported: ${new Date().toLocaleString()}`, 20, 28);
        
        // Messages
        let y = 40;
        doc.setFontSize(11);
        
        messages.forEach(msg => {
            // Check if need new page
            if (y > 270) {
                doc.addPage();
                y = 20;
            }
            
            // Sender name (bold)
            doc.setFont(undefined, 'bold');
            doc.setTextColor(25, 58, 109);
            doc.text(`${msg.sender}:`, 20, y);
            
            // Message text
            doc.setFont(undefined, 'normal');
            doc.setTextColor(0);
            const lines = doc.splitTextToSize(msg.text, 170);
            doc.text(lines, 20, y + 5);
            
            // Time
            doc.setFontSize(8);
            doc.setTextColor(150);
            doc.text(msg.time, 20, y + 5 + (lines.length * 5) + 2);
            
            doc.setFontSize(11);
            y += 5 + (lines.length * 5) + 8;
        });
        
        // Footer
        doc.setFontSize(8);
        doc.setTextColor(150);
        doc.text('Powered by MontPro AI', 105, 290, { align: 'center' });
        
        // Download
        doc.save(`MontPro-Chat-${new Date().toISOString().split('T')[0]}.pdf`);
    }
    
    // Add file preview message
    function addFilePreview(file) {
        const messageDiv = document.createElement('div');
        messageDiv.className = 'flex items-start justify-end animate-fadeIn';
        
        const fileIcon = file.type.includes('image') ? '🖼️' : '📄';
        const fileSize = (file.size / 1024).toFixed(1) + ' KB';
        
        messageDiv.innerHTML = `
            <div class="bg-navy-blue text-white rounded-2xl rounded-tr-none p-2.5 shadow-sm max-w-[85%]">
                <div class="flex items-center space-x-2">
                    <span class="text-lg">${fileIcon}</span>
                    <div>
                        <p class="text-[12px] font-medium">${escapeHtml(file.name)}</p>
                        <p class="text-[10px] opacity-75">${fileSize}</p>
                    </div>
                </div>
            </div>
        `;
        chatMessages.appendChild(messageDiv);
        scrollToBottom();
    }
    
    // Send file to backend
    async function sendFileToBackend(file) {
        try {
            // Convert file to base64 for JSON payload
            const base64Data = await new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = () => {
                    const base64 = reader.result.split(',')[1]; // Remove data URL prefix
                    resolve(base64);
                };
                reader.onerror = () => reject(new Error('Failed to read file'));
                reader.readAsDataURL(file);
            });
            
            // Send as JSON payload
            const response = await fetch('https://montpro.app.n8n.cloud/webhook/landing-page-chatbot', {
                method: 'POST',
                headers: { 
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ 
                    type: 'file',
                    filename: file.name,
                    fileType: file.type,
                    fileSize: file.size,
                    fileData: base64Data
                })
            });
            
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            
            const data = await response.json();
            
            removeTypingIndicator();
            
            // Handle response from backend
            addBotMessage(
                data.message || "I've received your file. How can I help you with it?",
                data.followUpQuestions || []
            );
            
        } catch (error) {
            removeTypingIndicator();
            console.error('File upload error:', error);
            addBotMessage('Sorry, there was an error uploading your file. Please try again or contact support at support@aapgrp.com');
        }
    }

})();
    
</script>
    
</body>
</html>
